<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mileage">
	<!-- 마일리지 ResultMap -->
	 <resultMap type="mileageTradeVO" id="mileageRM">
		<result property="mugVO.mugNo" column="mug_no" />
		<result property="mugVO.mugName" column="mug_name" />
		<result property="userVO.id" column="id" />
		<result property = "userVO.mileage" column="mileage"/>
	</resultMap>
	
	<!-- 마일리지 충전 -->
 	<insert id="addMileage" parameterType="mileageTradeVO">
 		insert into mileage_trade(mt_no, mt_volume, mg_no, id)
 		values(mileage_trade_seq.nextval, #{mtVolume}, #{mugVO.mugNo}, #{userVO.id})
 	</insert>
 	
 	<!-- 마일리지 환전 -->
 	<insert id="exchangeMileage" parameterType="mileageTradeVO">
 		insert into mileage_trade(mt_no, mt_volume, mg_no, id)
 		values(mileage_trade_seq.nextval, #{mtVolume}, #{mugVO.mugNo}, #{userVO.id})
 	</insert>
</mapper>